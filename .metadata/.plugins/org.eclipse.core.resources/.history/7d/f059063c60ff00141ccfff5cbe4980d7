package action;

import java.sql.Timestamp;
import java.util.Date;

import org.apache.struts2.ServletActionContext;

import serviceImp.IJobDetailService;
import tool.ResultUtil;

import model.Area;
import model.EnterpriseAccount;
import model.JobDetail;
import model.JobType;
import model.PayCountType;
import model.PayUnit;

public class ReleaseJobAction {
	
    private String payunitid;
    private String jobtypeid;
    private String paycounttypeid;
    private String name;
    private String enterid;
    private String pay;
    private String time;
    private Date deadline;
    private String address;
    private String num;
    private String sex;
    private String height;
    private String health;
    private String interview;
    private String interviewaddr;
    private String interviewtime;
    private String jobContent;
    private String worktimetype;
    private String areaid;
    private IJobDetailService jobDetailService;
	public String getPayunitid() {
		return payunitid;
	}
	public void setPayunitid(String payunitid) {
		this.payunitid = payunitid;
	}
	public String getJobtypeid() {
		return jobtypeid;
	}
	public void setJobtypeid(String jobtypeid) {
		this.jobtypeid = jobtypeid;
	}
	public String getPaycounttypeid() {
		return paycounttypeid;
	}
	public void setPaycounttypeid(String paycounttypeid) {
		this.paycounttypeid = paycounttypeid;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getEnterid() {
		return enterid;
	}
	public void setEnterid(String enterid) {
		this.enterid = enterid;
	}
	public String getPay() {
		return pay;
	}
	public void setPay(String pay) {
		this.pay = pay;
	}
	public String getTime() {
		return time;
	}
	public void setTime(String time) {
		this.time = time;
	}
	public Date getDeadline() {
		return deadline;
	}
	public void setDeadline(Date deadline) {
		this.deadline = deadline;
	}
	public String getAddress() {
		return address;
	}
	public void setAddress(String address) {
		this.address = address;
	}
	public String getNum() {
		return num;
	}
	public void setNum(String num) {
		this.num = num;
	}
	public String getSex() {
		return sex;
	}
	public void setSex(String sex) {
		this.sex = sex;
	}
	public String getHeight() {
		return height;
	}
	public void setHeight(String height) {
		this.height = height;
	}
	public String getHealth() {
		return health;
	}
	public void setHealth(String health) {
		this.health = health;
	}
	public String getInterview() {
		return interview;
	}
	public void setInterview(String interview) {
		this.interview = interview;
	}
	public String getInterviewaddr() {
		return interviewaddr;
	}
	public void setInterviewaddr(String interviewaddr) {
		this.interviewaddr = interviewaddr;
	}
	public String getInterviewtime() {
		return interviewtime;
	}
	public void setInterviewtime(String interviewtime) {
		this.interviewtime = interviewtime;
	}
	public String getJobContent() {
		return jobContent;
	}
	public void setJobContent(String jobContent) {
		this.jobContent = jobContent;
	}
	public String getWorktimetype() {
		return worktimetype;
	}
	public void setWorktimetype(String worktimetype) {
		this.worktimetype = worktimetype;
	}
	public String getAreaid() {
		return areaid;
	}
	public void setAreaid(String areaid) {
		this.areaid = areaid;
	}
	public IJobDetailService getJobDetailService() {
		return jobDetailService;
	}
	public void setJobDetailService(IJobDetailService jobDetailService) {
		this.jobDetailService = jobDetailService;
	}
    
	public String execute() {
		
		JobDetail job = new JobDetail();
		
		PayUnit payUnit = new PayUnit();
		payUnit.setId(Long.parseLong(payunitid));
		job.setPayUnit(payUnit);
		
		JobType jobType = new JobType();
		jobType.setJobtypeid(Long.parseLong(jobtypeid));
		job.setJobType(jobType);
		
		PayCountType payCountType = new PayCountType();
		payCountType.setId(Long.parseLong(paycounttypeid));
		job.setPayCountType(payCountType);
		
		job.setName(name);
		
		EnterpriseAccount enter = new EnterpriseAccount();
		enter.setEnterpriseid(Long.parseLong(enterid));
		job.setEnterpriseAccount(enter);
		
		job.setPay(Double.parseDouble(pay));
		job.setTime(time);
		job.setDeadline(deadline);
		job.setAddress(address);
		job.setNum(Integer.parseInt(num));
		job.setSex(Integer.parseInt(sex));
		job.setHeight(Float.parseFloat(height));
		job.setHealth(Integer.parseInt(health));
		job.setInterview(Integer.parseInt(interview));
		job.setInterviewaddr(interviewaddr);
		job.setInterviewtime(interviewtime);
		job.setJobContent(jobContent);
		job.setWorktimetype(Integer.parseInt(worktimetype));
		
		Area area = new Area();
		area.setCode(Long.parseLong(areaid));
		job.setArea(area);
		
		jobDetailService.saveJob(job);
		ResultUtil.returnJsonWithCode200(ServletActionContext.getResponse(), null,"发布成功！");
		
		return null;
	}

}
